# Отчет о лаботаротоной работе

Оформленн отчёт по выполнению

## Цель работы

Целью данной лабораторной работы является освоение конфигурации Spring-приложений с использованием аннотаций, включая внедрение зависимостей через @Component, параметров через @Value и SpEL, а также реализацию новых компонентов и измерение производительности с помощью средств аспектно-ориентированного программирования (AOP). Также в рамках работы требуется создать HTML-представление данных и использовать события жизненного цикла бинов для дополнительной инициализации.

## Выполнение работы

Настройка проекта: Скопировать результат выполнения лабораторной работы №2, подключить зависимости для работы с базой данных H2 и Spring JDBC в файле build.gradle.kts.
Подключение базы данных: Используя EmbeddedDatabaseBuilder, настроить встраиваемую базу данных H2, которая будет автоматически запускаться при старте приложения и выполнять SQL-скрипты для создания таблиц.
Создание таблиц: Написать SQL-скрипт для создания двух таблиц: PRODUCTS (для продуктов) и CATEGORIES (для категорий), а также настроить внешние ключи.
Настройка выполнения скрипта: Использовать EmbeddedDatabaseBuilder для автоматического выполнения SQL-скрипта при старте приложения, создавая таблицы в базе данных.
Создание классов модели: Создать классы Category и Product, представляющие данные в таблицах, а также класс ConcreteCategoryProvider для загрузки данных из CSV файла.
Добавление рендерера: Реализовать рендерер DataBaseRenderer, который будет сохранять данные из CSV файлов в таблицы базы данных.
Запрос к базе данных: Реализовать класс CategoryRequest, который будет выполнять запрос к базе данных для получения списка категорий с количеством товаров больше одного и выводить результаты в логи с помощью logback.
Запуск приложения: Убедиться, что приложение запускается с помощью команды gradle run, выводит информацию в консоль и успешно завершает работу.

Произвёл инициализацию git - gradle init
Очистил сборку - gradle clean build
Обновил список зависимостей - gradle build --refresh-dependencies
Выполнение происходит за 2 секунды.

Новая диаграмма

В проекте под названием UML diagramm2![alt text](<UML diagramm2.png>).png

## Контольные вопросы

1. Что такое Spring JDBC и какие преимущества оно предоставляет по сравнению с традиционным JDBC?

Spring JDBC — это модуль в рамках фреймворка Spring, который упрощает работу с базами данных, скрывая рутинные операции, такие как управление соединениями и обработку ошибок. Он предоставляет удобные инструменты для выполнения SQL-запросов и маппинга результатов в объекты Java. Основное преимущество Spring JDBC перед традиционным JDBC — это автоматизация многих задач, таких как управление соединениями и обработка исключений, а также упрощение работы с базами данных, что позволяет фокусироваться на бизнес-логике.

2. Какой основной класс в Spring используется для работы с базой данных через JDBC?

Главный класс для работы с базой данных через JDBC в Spring — это JdbcTemplate, который инкапсулирует такие операции, как выполнение запросов на выборку, вставку, обновление и удаление данных.

3. Какие шаги необходимо выполнить для настройки JDBC в Spring-приложении?

Для работы с базой данных через JDBC в Spring необходимо подключить зависимости для Spring JDBC и базы данных, настроить DataSource, создать JdbcTemplate, а также настроить обработку исключений с помощью класса DataAccessException.

4. Что такое JdbcTemplate и какие основные методы он предоставляет?

JdbcTemplate — это основной класс для выполнения SQL-запросов в Spring. Он предоставляет методы, такие как query(), update(), execute(), queryForObject(), queryForList(), которые позволяют работать с базой данных и обрабатывать результаты, маппируя их в объекты Java с помощью RowMapper.

5. Как в Spring JDBC выполнить запрос на выборку данных (SELECT) и получить результат в виде объекта?

Для выполнения запроса SELECT и получения результатов в виде объекта используется метод query() класса JdbcTemplate. Этот метод принимает SQL-запрос и RowMapper для преобразования каждой строки результата в объект Java.

6. Как использовать RowMapper в JdbcTemplate?

RowMapper — это интерфейс, который используется для преобразования каждой строки результата SQL-запроса в объект Java. Метод query() класса JdbcTemplate передает результат запроса в RowMapper для маппинга данных.

7. Как выполнить вставку (INSERT) данных в базу с использованием JdbcTemplate?

Для выполнения вставки данных в базу используется метод update() класса JdbcTemplate. Этот метод принимает SQL-запрос (например, INSERT) и параметры для выполнения операции.

8. Как выполнить обновление (UPDATE) или удаление (DELETE) записей через JdbcTemplate?

Для выполнения операций обновления (UPDATE) или удаления (DELETE) используется метод update() класса JdbcTemplate. Он принимает SQL-запрос и соответствующие параметры.

9. Как в Spring JDBC обрабатывать исключения, возникающие при работе с базой данных?

Исключения в Spring JDBC обрабатываются с помощью класса DataAccessException, который является оберткой для всех исключений, связанных с базой данных. Это позволяет унифицировать обработку ошибок независимо от используемой СУБД.

10. Какие альтернативные способы работы с базой данных есть в Spring кроме JdbcTemplate?

Альтернативные способы работы с базой данных в Spring включают использование Spring Data JPA, MyBatis и Spring Data MongoDB. Spring Data JPA предоставляет более высокоуровневый подход к работе с базами данных через Java Persistence API, скрывая детали работы с SQL. MyBatis дает более гибкие возможности для написания SQL-запросов, а Spring Data MongoDB используется для работы с NoSQL базами данных, такими как MongoDB. Однако JdbcTemplate остается популярным решением для работы с реляционными базами данных, так как оно проще в настройке и использовании для большинства приложений.

## Вывод

В результате выполнения работы, приложение было интегрировано с базой данных, научился выполнять SQL-запросы через JDBC, а также происходит вывод результатов в логи.
Создание классов моделей, работа с CSV файлами и использование Spring AOP для логирования всех действий позволяют обеспечить эффективное взаимодействие с базой данных и вывод необходимой информации в удобном формате.
